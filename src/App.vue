<!-- ä¼˜ç¾å›½é£é¦–é¡µï¼šéµå¾ª .cursorrulesï¼Œå“åº”å¼ã€å¯è®¿é—®æ€§ã€æ•°æ®é©±åŠ¨ -->
<template>
  <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 bg-amber-600 text-white px-3 py-1 rounded">è·³åˆ°ä¸»å†…å®¹</a>
  <div class="min-h-screen bg-white text-gray-800 font-sans">
    <!-- Header / Navigationï¼ˆä¸å›ºå®šï¼‰ -->
    <header class="relative w-full bg-white shadow-sm" role="banner" aria-label="ä¸»å¯¼èˆª">
      <div class="mx-auto max-w-screen-xl px-4 md:px-6 py-4 flex justify-between items-center">
        <div class="flex items-center space-x-2">
          <img
            src="https://ai-public.mastergo.com/ai/img_res/d07c1e362295db3d80f132463fcc5dfd.jpg"
            alt="å¤éŸµè¯—é¦™ Logo"
            class="h-10 object-contain"
            loading="eager"
          />
          <span class="text-lg font-semibold tracking-wide">å¤éŸµè¯—é¦™</span>
        </div>
        <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
        <button
          type="button"
          class="md:hidden inline-flex items-center justify-center rounded-md border border-gray-300 px-3 py-2 text-gray-700 hover:bg-gray-100"
          aria-label="æ‰“å¼€å¯¼èˆªèœå•"
          @click="toggleMobile()"
        >
          â˜°
        </button>
        <nav class="hidden md:flex gap-6" aria-label="ç«™ç‚¹å¯¼èˆª">
          <a href="#featured" class="hover:text-amber-700 transition-colors">ç²¾é€‰</a>
          <a href="#categories" class="hover:text-amber-700 transition-colors">åˆ†ç±»</a>
          <a href="#quotes" class="hover:text-amber-700 transition-colors">åå¥</a>
          <a href="#articles" class="hover:text-amber-700 transition-colors">èµæ</a>
        </nav>
        <div class="relative w-56 md:w-64" aria-label="æœç´¢è¯—è¯">
          <input
            v-model.trim="query"
            type="text"
            placeholder="æœç´¢è¯—è¯â€¦"
            class="w-full pl-10 pr-3 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm"
            aria-label="æœç´¢è¯—è¯"
          />
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" aria-hidden="true">ğŸ”</span>
        </div>
      </div>
    </header>
    <!-- ç§»åŠ¨ç«¯æŠ½å±‰èœå• -->
    <transition name="fade" mode="out-in">
      <div
        v-if="mobileOpen"
        class="md:hidden border-t border-gray-200 bg-white"
        role="dialog"
        aria-label="ç§»åŠ¨å¯¼èˆª"
      >
        <div class="mx-auto max-w-screen-xl px-4 py-3 flex flex-col gap-2">
          <a href="#featured" class="py-2 rounded-md hover:bg-gray-100" @click="mobileOpen=false">ç²¾é€‰</a>
          <a href="#categories" class="py-2 rounded-md hover:bg-gray-100" @click="mobileOpen=false">åˆ†ç±»</a>
          <a href="#quotes" class="py-2 rounded-md hover:bg-gray-100" @click="mobileOpen=false">åå¥</a>
          <a href="#articles" class="py-2 rounded-md hover:bg-gray-100" @click="mobileOpen=false">èµæ</a>
        </div>
      </div>
    </transition>

    <main id="main">
      <!-- Heroï¼šå›½é£å±±æ°´èƒŒæ™¯ -->
      <section
        class="hero relative bg-cover bg-center bg-no-repeat overflow-hidden"
        style="background-image: url('https://mastergo.com/ai/api/search-image?query=chinese%20ink%20painting%20landscape%20with%20mountains%20and%20water%20for%20poetry%20website%20background&width=1440&height=600&orientation=landscape&flag=518c9dc5d30135be8819223802457231'); min-height: 600px; background-position: center top; background-attachment: scroll;"
        aria-label="ç«™ç‚¹æ¨ªå¹…"
      >
        <div class="absolute inset-0 bg-black/30 pointer-events-none" aria-hidden="true"></div>
        <div class="mx-auto max-w-screen-xl px-4 md:px-6 relative z-10 h-full flex flex-col justify-center items-start py-12">
          <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 tracking-wider">å¤éŸµè¯—é¦™</h1>
          <p class="text-lg md:text-xl text-white/95 mb-8 max-w-2xl">å“å‘³åƒå¹´è¯—è¯ä¹‹ç¾ï¼Œåœ¨æ¸…é›…å›½é£ä¸­æ¼«æ­¥ã€‚</p>
          <div class="flex gap-3">
            <a href="#featured" class="inline-flex items-center rounded-full bg-amber-600 text-white px-5 py-2 hover:bg-amber-700 transition-colors">æ¢ç´¢ç²¾é€‰</a>
            <a href="#quotes" class="inline-flex items-center rounded-full bg-white/90 text-gray-800 px-5 py-2 hover:bg-white transition-colors">åå¥é›†é”¦</a>
          </div>
        </div>
        <!-- æ¸å˜æ·¡å‡ºï¼Œé¿å…ä¸ä¸‹æ–‡ç¡¬åˆ‡ -->
        <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-b from-transparent to-white pointer-events-none" aria-hidden="true"></div>
      </section>

      <!-- åˆ†ç±»æ ‡ç­¾ï¼šå¯æ¨ªå‘æ»šåŠ¨ -->
      <section id="categories" class="py-10">
        <div class="mx-auto max-w-screen-xl px-4 md:px-6">
          <h2 class="text-2xl md:text-3xl font-bold mb-6">è¯—è¯åˆ†ç±»</h2>
          <div class="flex gap-3 overflow-x-auto pb-2 -mx-1" role="list">
            <button
              v-for="cat in categories"
              :key="cat.name"
              type="button"
              :class="['flex-shrink-0 px-4 py-2 rounded-full border transition-colors', (selectedCategory === cat.name) ? 'bg-amber-600 text-white border-amber-600' : 'bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100']"
              @click="selectCategory(cat.name)"
            >
              {{ cat.name }}
            </button>
          </div>
        </div>
      </section>

      <!-- ç²¾é€‰è¯—è¯ -->
      <section id="featured" class="py-12 bg-amber-50">
        <div class="mx-auto max-w-screen-xl px-4 md:px-6">
          <h2 class="text-2xl md:text-3xl font-bold text-center mb-8">ç²¾é€‰è¯—è¯</h2>
          <div v-if="filteredPoems.length === 0" class="text-center text-gray-500">æœªæ‰¾åˆ°ä¸â€œ{{ query }}â€ç›¸å…³çš„è¯—è¯</div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <article
              v-for="poem in filteredPoems"
              :key="poem.title + poem.author"
              class="bg-white/90 rounded-xl shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl hover:-translate-y-1"
            >
              <div class="p-5">
                <h3 class="text-lg font-semibold mb-1">{{ poem.title }}</h3>
                <p class="text-gray-600 mb-3">{{ poem.author }} Â· {{ poem.dynasty }}</p>
                <p class="text-gray-700 italic line-clamp-3">{{ poem.content }}</p>
                <button
                  type="button"
                  class="mt-5 rounded-full bg-amber-600 text-white px-4 py-2 hover:bg-amber-700 transition-colors"
                  @click="viewPoem(poem)"
                >
                  æŸ¥çœ‹è¯¦æƒ…
                </button>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- ç²¾é€‰åå¥è½®æ’­ -->
      <section id="quotes" class="py-12">
        <div class="mx-auto max-w-screen-xl px-4 md:px-6">
          <h2 class="text-2xl md:text-3xl font-bold text-center mb-8">ç²¾é€‰åå¥</h2>
          <div class="bg-white rounded-2xl shadow-md p-6 md:p-8">
            <figure class="text-center">
              <blockquote class="text-xl md:text-2xl font-medium text-gray-900 mb-3">â€œ{{ currentQuote.text }}â€</blockquote>
              <figcaption class="text-gray-600">â€”â€” {{ currentQuote.author }} Â· {{ currentQuote.dynasty }}</figcaption>
            </figure>
            <div class="mt-6 flex justify-center gap-3">
              <button type="button" class="px-4 py-2 rounded-full border border-gray-300 hover:bg-gray-100" @click="prevQuote" aria-label="ä¸Šä¸€æ¡">â†</button>
              <button type="button" class="px-4 py-2 rounded-full border border-gray-300 hover:bg-gray-100" @click="nextQuote" aria-label="ä¸‹ä¸€æ¡">â†’</button>
            </div>
          </div>
        </div>
      </section>

      <!-- æœ€æ–°èµæ -->
      <section id="articles" class="py-12 bg-amber-50">
        <div class="mx-auto max-w-screen-xl px-4 md:px-6">
          <h2 class="text-2xl md:text-3xl font-bold text-center mb-8">æœ€æ–°èµæ</h2>
          <div class="max-w-4xl mx-auto">
            <article
              v-for="post in articles"
              :key="post.title + post.author"
              class="bg-white rounded-xl shadow-md p-6 mb-6 hover:shadow-lg transition-shadow"
            >
              <div class="flex items-start">
                <img :src="post.cover" alt="æ–‡ç« é…å›¾" class="w-24 h-24 object-cover rounded-lg mr-6" loading="lazy" />
                <div>
                  <h3 class="text-xl font-semibold mb-2">{{ post.title }}</h3>
                  <div class="flex items-center text-gray-600 text-sm mb-3">
                    <span class="mr-4">ğŸ‘¤ {{ post.author }}</span>
                    <span>ğŸ•’ {{ post.date }}</span>
                  </div>
                  <p class="text-gray-700">{{ post.summary }}</p>
                </div>
              </div>
            </article>
          </div>
        </div>
      </section>
    <!-- è¿”å›é¡¶éƒ¨ -->
    <button type="button" class="fixed bottom-5 right-5 z-50 rounded-full bg-amber-600 text-white px-3 py-2 shadow-md hover:bg-amber-700" aria-label="è¿”å›é¡¶éƒ¨" @click="window.scrollTo({ top: 0, behavior: 'smooth' })">â†‘</button>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-12 pb-8" role="contentinfo">
      <div class="mx-auto max-w-screen-xl px-4 md:px-6">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-10">
          <div>
            <h3 class="text-xl font-bold mb-4">å¤éŸµè¯—é¦™</h3>
            <p class="text-gray-400">ä¼ æ‰¿ä¸­åæ–‡åŒ–ï¼Œå“è¯»åƒå¹´è¯—è¯ä¹‹ç¾ã€‚æˆ‘ä»¬è‡´åŠ›äºä¸ºå¹¿å¤§è¯—è¯çˆ±å¥½è€…æä¾›ä¼˜è´¨çš„å†…å®¹å’ŒæœåŠ¡ã€‚</p>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">å¿«é€Ÿé“¾æ¥</h4>
            <ul class="space-y-2">
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">å…³äºæˆ‘ä»¬</a></li>
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">è”ç³»æˆ‘ä»¬</a></li>
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">ç‰ˆæƒå£°æ˜</a></li>
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">ç½‘ç«™åœ°å›¾</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">å‹æƒ…é“¾æ¥</h4>
            <ul class="space-y-2">
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">ä¸­åè¯—è¯ç½‘</a></li>
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">å¤è¯—æ–‡ç½‘</a></li>
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">è¯—è¯åå¥ç½‘</a></li>
              <li><a href="#" class="text-gray-400 hover:text-white transition-colors">ä¸­å›½è¯—æ­Œç½‘</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold mb-4">è®¢é˜…æ›´æ–°</h4>
            <form class="flex gap-2" @submit.prevent="subscribe">
              <input type="email" v-model="email" placeholder="è¾“å…¥é‚®ç®±â€¦" class="flex-1 px-3 py-2 rounded-md text-gray-900" aria-label="è®¢é˜…é‚®ç®±" />
              <button type="submit" class="px-4 py-2 rounded-md bg-amber-600 text-white hover:bg-amber-700">è®¢é˜…</button>
            </form>
            <p v-if="subscribed" class="mt-2 text-amber-400">è®¢é˜…æˆåŠŸï¼</p>
          </div>
        </div>
        <div class="border-t border-gray-800 pt-6 text-center text-gray-500">
          <p>&copy; 2025 å¤éŸµè¯—é¦™. All rights reserved.</p>
        </div>
      </div>
    </footer>
  </div>
</template>

<script lang="ts" setup>
import { ref, computed, onMounted, onUnmounted } from 'vue'

// æœç´¢å…³é”®è¯
const query = ref('')
const selectedCategory = ref<string | null>(null)
const mobileOpen = ref(false)

// åˆ†ç±»
const categories = [
  { name: 'å”è¯—' }, { name: 'å®‹è¯' }, { name: 'å…ƒæ›²' }, { name: 'å¤é£' },
]

// ç²¾é€‰è¯—è¯
const poems = [
  { title: 'é™å¤œæ€', author: 'æç™½', dynasty: 'å”ä»£', content: 'åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚', category: 'å”è¯—' },
  { title: 'æ°´è°ƒæ­Œå¤´', author: 'è‹è½¼', dynasty: 'å®‹ä»£', content: 'æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ã€‚', category: 'å®‹è¯' },
  { title: 'æ˜¥æ™“', author: 'å­Ÿæµ©ç„¶', dynasty: 'å”ä»£', content: 'æ˜¥çœ ä¸è§‰æ™“ï¼Œå¤„å¤„é—»å•¼é¸Ÿã€‚å¤œæ¥é£é›¨å£°ï¼ŒèŠ±è½çŸ¥å¤šå°‘ã€‚', category: 'å”è¯—' },
  { title: 'å¿µå¥´å¨‡Â·èµ¤å£æ€€å¤', author: 'è‹è½¼', dynasty: 'å®‹ä»£', content: 'å¤§æ±Ÿä¸œå»ï¼Œæµªæ·˜å°½ï¼Œåƒå¤é£æµäººç‰©ã€‚æ•…å’è¥¿è¾¹ï¼Œäººé“æ˜¯ï¼Œä¸‰å›½å‘¨éƒèµ¤å£ã€‚', category: 'å®‹è¯' },
]

// åå¥
const quotes = [
  { text: 'å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚', author: 'ç‹ç»´', dynasty: 'å”ä»£' },
  { text: 'ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚', author: 'è‹è½¼', dynasty: 'å®‹ä»£' },
  { text: 'ä¼šå½“å‡Œç»é¡¶ï¼Œä¸€è§ˆä¼—å±±å°ã€‚', author: 'æœç”«', dynasty: 'å”ä»£' },
]
const quoteIndex = ref(0)
const currentQuote = computed(() => quotes[quoteIndex.value] || quotes[0])
function nextQuote() { quoteIndex.value = (quoteIndex.value + 1) % quotes.length }
function prevQuote() { quoteIndex.value = (quoteIndex.value - 1 + quotes.length) % quotes.length }

// è‡ªåŠ¨æ’­æ”¾ï¼ˆå°Šé‡â€œå‡å°‘åŠ¨æ•ˆâ€åå¥½ï¼‰
let quoteTimer: number | null = null
onMounted(() => {
  const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches
  if (!reduceMotion) {
    quoteTimer = window.setInterval(() => nextQuote(), 6000)
  }
})
onUnmounted(() => {
  if (quoteTimer) {
    clearInterval(quoteTimer)
    quoteTimer = null
  }
})

// æ–‡ç« 
const articles = [
  { title: 'ã€Šé™å¤œæ€ã€‹ä¸­çš„ä¹¡æ„æ„è±¡è§£æ', author: 'ææ–‡åš', date: '2023-05-15', cover: 'https://ai-public.mastergo.com/ai/img_res/7e6a4cc3b9ebe3abf1d9da0be376ba33.jpg', summary: 'æç™½é€šè¿‡æœˆå…‰ã€éœœè‰²ç­‰è‡ªç„¶æ™¯è±¡ï¼Œè¡¨è¾¾æ¸¸å­æ€ä¹¡ä¹‹æƒ…â€¦â€¦' },
  { title: 'è‹è½¼ã€Šæ°´è°ƒæ­Œå¤´ã€‹ä¸­ç§‹æƒ…æ€€è§£è¯»', author: 'ç‹é›…ç´', date: '2023-09-22', cover: 'https://ai-public.mastergo.com/ai/img_res/efb3bf7d9b45c0429a4fa26628e9ee36.jpg', summary: 'å¯¹æœˆä¹‹é—®å±•ç°å¤æ‚æƒ…æ„Ÿä¸äººç”Ÿæ€è€ƒï¼Œè¯ä¸­äººäº‹ä¸å¤©é—®ç›¸äº’æ˜ ç…§â€¦â€¦' },
  { title: 'å­Ÿæµ©ç„¶ã€Šæ˜¥æ™“ã€‹çš„è‡ªç„¶ç¾å­¦æ¢æ', author: 'å¼ æ˜è½©', date: '2023-03-10', cover: 'https://ai-public.mastergo.com/ai/img_res/ec0952c4edb11c991480eeff94ac77ac.jpg', summary: 'çŸ­çŸ­äºŒåå­—å‹¾å‹’æ˜¥æ™¨æ™¯è±¡ï¼Œä½“ç°æ•é”è§‚å¯Ÿä¸æ·±åšæƒ…æ„Ÿâ€¦â€¦' },
]

// è¿‡æ»¤é€»è¾‘
const filteredPoems = computed(() => {
  const q = query.value.toLowerCase()
  return poems.filter(p => {
    const matchQuery = !q || [p.title, p.author, p.dynasty, p.category].some(v => v.toLowerCase().includes(q))
    const matchCat = !selectedCategory.value || p.category === selectedCategory.value
    return matchQuery && matchCat
  })
})

function viewPoem(poem: (typeof poems)[number]) {
  alert(`æŸ¥çœ‹ï¼š${poem.title}ï¼ˆ${poem.author} Â· ${poem.dynasty}ï¼‰`)
}

function selectCategory(name: string) {
  selectedCategory.value = selectedCategory.value === name ? null : name
}

// è®¢é˜…
const email = ref('')
const subscribed = ref(false)
function toggleMobile() {
  mobileOpen.value = !mobileOpen.value
}

function subscribe() {
  if (email.value && /\S+@\S+\.\S+/.test(email.value)) {
    subscribed.value = true
    setTimeout(() => (subscribed.value = false), 3000)
    email.value = ''
  } else {
    alert('è¯·è¾“å…¥æœ‰æ•ˆé‚®ç®±åœ°å€')
  }
}
</script>

<style scoped>
/* æè¿°æ®µè½é™åˆ¶è¡Œæ•°ï¼ˆTailwind line-clamp æ›¿ä»£æ–¹æ¡ˆï¼‰ */
.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* å›¾ç‰‡å°ºå¯¸çº¦æŸ */
img { max-width: 100%; height: auto; }

/* è‹±é›„åŒºèƒŒæ™¯ä¸å›ºå®šï¼Œä¸”ä¸é‡å¤ */
.hero { background-repeat: no-repeat; background-attachment: scroll; }

/* å¯è®¿é—®æ€§ï¼šæ¸…æ™°çš„é”®ç›˜èšç„¦æ ·å¼ */
:focus-visible {
  outline: 2px solid #d97706; /* amber-600 */
  outline-offset: 2px;
}

/* ç”¨æˆ·åå¥½å‡å°‘åŠ¨æ•ˆï¼šå…³é—­è¿‡æ¸¡ä¸åŠ¨ç”» */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}
/* å¤´éƒ¨ä¸æ ‡é¢˜å¾®è°ƒï¼šæ›´ä¼˜é›…çš„å­—è·ä¸è¡Œé«˜ */
h1, h2, h3 { letter-spacing: 0.02em; }

/* æŠ½å±‰æ·¡å…¥æ·¡å‡ºåŠ¨æ•ˆï¼ˆå°Šé‡â€œå‡å°‘åŠ¨æ•ˆâ€åå¥½ï¼‰ */
.fade-enter-active, .fade-leave-active { transition: opacity 200ms ease; }
.fade-enter-from, .fade-leave-to { opacity: 0; }

</style>